<header></header>

<body>
	<% if flash[:notice] %>
		<p class="succes"><%= flash[:notice] %></p>
	<% end %>
	<div class="books-table">
		<h2><span>Books</span></h2>
			<table>
				<thead>
				<tr>
					<th>Title</th>
					<th>Body</th>
					<th></th>
					<th>action</th>
					<th></th>
				</tr>
					<% @books.each do |book| %>
						<tr>
							<td><%= book.title %></td>
							<td><%= book.body %></td>
							<td class="action"><%= link_to 'Show', book_path(book.id) %></td>
							<td class="action"><%= link_to 'Edit', edit_book_path(book.id) %></td>
							<td class="action"><%= link_to 'Destroy', destroy_book_path(book.id), method: :delete, "data-confirm" => "本当に削除しますか？" %></td>
						</tr>
					<% end %>
				</thead>
			</table>
	</div>


	<div class="new-book">
		<h2><span>New Book</span></h2>
		<%= form_for(@book) do |f| %>
			<% if @book.errors.any? %>
				<div class="errors">
					<h3>入力内容にエラーが<%= @book.errors.count %>つあります。</h3>
					<ul>
						<% @book.errors.full_messages.each do |message| %>
						<li>・<%= message %></li>
						<% end %>
					</ul>
				</div>
			<% end %>
			<% if @book.errors.any? %>
					<div class="field">
						<%= f.label :title, "Title" %>
						<%= f.text_field :title %>
					</div>
					<div class="field">
						<%= f.label :body, "Body" %>
						<%= f.text_area :body %>
					</div>
			<% else %>
					<div class="field">
						<%= f.label :title, "Title" %>
						<%= f.text_field :title %>
					</div>
					<div class="field">
						<%= f.label :body, "Body" %>
						<%= f.text_area :body %>
				</div>
			<% end %>
			<div class="submit"><%= f.submit 'Created Books' %></div>
		<% end %>
	</div>
</body>